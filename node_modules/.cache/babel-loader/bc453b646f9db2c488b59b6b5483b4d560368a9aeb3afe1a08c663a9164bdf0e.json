{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function CryptoTable(){const[cryptoData,setCryptoData]=useState([]);const[searchText,setSearchText]=useState('');const[sortKey,setSortKey]=useState('');useEffect(()=>{fetchData();},[]);const fetchData=()=>{const url='https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=10&page=1&sparkline=false';fetch(url).then(response=>response.json()).then(data=>setCryptoData(data)).catch(error=>console.error('Error fetching data:',error));};const handleSearch=e=>{setSearchText(e.target.value.toLowerCase());};const handleSort=key=>{setSortKey(key);};const filteredData=cryptoData.filter(item=>item.name.toLowerCase().includes(searchText)||item.symbol.toLowerCase().includes(searchText));const sortedData=sortKey?[...filteredData].sort((a,b)=>{const aValue=parseFloat(a[sortKey]);// Use sortKey instead of key\nconst bValue=parseFloat(b[sortKey]);// Use sortKey instead of key\nreturn sortKey==='market_cap'?bValue-aValue:aValue-bValue;}):filteredData;return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"searchbar\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchText,onChange:handleSearch,placeholder:\"Search by name or symbol\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSort('market_cap'),children:\"Sort by Market Cap\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSort('price_change_percentage_24h'),children:\"Sort by 24h Change\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"table\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{id:\"image-head\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Symbol\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price (USD)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Volume\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Market Cap\"}),/*#__PURE__*/_jsx(\"th\",{children:\"24h Change (%)\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:sortedData.map(item=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{id:\"image-head\",children:/*#__PURE__*/_jsx(\"img\",{src:item.image})}),/*#__PURE__*/_jsx(\"td\",{children:item.name}),/*#__PURE__*/_jsx(\"td\",{id:\"symbol\",children:item.symbol}),/*#__PURE__*/_jsx(\"td\",{children:item.current_price}),/*#__PURE__*/_jsx(\"td\",{children:item.total_volume}),/*#__PURE__*/_jsx(\"td\",{children:item.market_cap}),/*#__PURE__*/_jsx(\"td\",{className:item.price_change_percentage_24h<0?'red':'green',children:item.price_change_percentage_24h})]},item.id))})]})})]});}export default CryptoTable;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","CryptoTable","cryptoData","setCryptoData","searchText","setSearchText","sortKey","setSortKey","fetchData","url","fetch","then","response","json","data","catch","error","console","handleSearch","e","target","value","toLowerCase","handleSort","key","filteredData","filter","item","name","includes","symbol","sortedData","sort","a","b","aValue","parseFloat","bValue","className","children","type","onChange","placeholder","onClick","id","map","src","image","current_price","total_volume","market_cap","price_change_percentage_24h"],"sources":["C:/Users/91968/Desktop/react_april_node/coins/src/Coins.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nfunction CryptoTable() {\r\n  const [cryptoData, setCryptoData] = useState([]);\r\n  const [searchText, setSearchText] = useState('');\r\n  const [sortKey, setSortKey] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const fetchData = () => {\r\n    const url = 'https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=10&page=1&sparkline=false';\r\n    \r\n    fetch(url)\r\n      .then(response => response.json())\r\n      .then(data => setCryptoData(data))\r\n      .catch(error => console.error('Error fetching data:', error));\r\n  };\r\n\r\n  const handleSearch = (e) => {\r\n    setSearchText(e.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleSort = (key) => {\r\n    setSortKey(key);\r\n  };\r\n\r\n  const filteredData = cryptoData.filter(item =>\r\n    item.name.toLowerCase().includes(searchText) || item.symbol.toLowerCase().includes(searchText)\r\n  );\r\n\r\n  const sortedData = sortKey ?\r\n    [...filteredData].sort((a, b) => {\r\n      const aValue = parseFloat(a[sortKey]); // Use sortKey instead of key\r\n      const bValue = parseFloat(b[sortKey]); // Use sortKey instead of key\r\n      return sortKey === 'market_cap' ? bValue - aValue : aValue - bValue;\r\n    }) :\r\n    filteredData;\r\n\r\n  return (\r\n    <div className='container'>\r\n     <div className='searchbar'>\r\n     <input type=\"text\" value={searchText} onChange={handleSearch} placeholder=\"Search by name or symbol\"/>\r\n      <button onClick={() => handleSort('market_cap')}>Sort by Market Cap</button>\r\n      <button onClick={() => handleSort('price_change_percentage_24h')}>Sort by 24h Change</button>\r\n     </div>\r\n     <div className='table'>\r\n     <table>\r\n        <thead>\r\n          <tr>\r\n            <th id='image-head'></th>\r\n            <th>Name</th>\r\n            <th >Symbol</th>\r\n            <th>Price (USD)</th>\r\n            <th>Volume</th>\r\n            <th>Market Cap</th>\r\n            <th>24h Change (%)</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {sortedData.map(item => (\r\n            <tr key={item.id}>\r\n                <td id='image-head'><img src={item.image}/></td>\r\n              <td>{item.name}</td>\r\n              <td id='symbol'>{item.symbol}</td>\r\n              <td>{item.current_price}</td>\r\n              <td>{item.total_volume}</td>\r\n              <td>{item.market_cap}</td>\r\n              <td className={item.price_change_percentage_24h<0?'red':'green'}>{item.price_change_percentage_24h}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n     </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CryptoTable;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}